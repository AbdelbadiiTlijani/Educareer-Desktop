<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.Font?>
<AnchorPane xmlns:fx="http://javafx.com/fxml/1" fx:id="dashboardPane" prefHeight="600.0" prefWidth="900.0"
            style="-fx-background-color: #f5f5f7;" xmlns="http://javafx.com/javafx/23.0.1"
            fx:controller="tn.esprit.educareer.controllers.User.FormateurDashboarddController">


    <!-- Left Sidebar Navigation Panel -->
    <VBox prefWidth="250" spacing="10" style="-fx-background-color: #2c3e50; -fx-padding: 15;"
          AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.topAnchor="0.0">
        <Label style="-fx-font-weight: bold;" text="Formateur Dashboard" textFill="WHITE">
            <font>
                <Font name="System Bold" size="20.0"/>
            </font>
            <padding>
                <Insets bottom="20"/>
            </padding>
        </Label>
        <!--Offre-->
        <VBox spacing="5">
            <Label style="-fx-font-size: 12;" text="MANAGEMENT" textFill="#a7a7a7">
                <padding>
                    <Insets bottom="5" top="10"/>
                </padding>
            </Label>

            <Button fx:id="viewUserButton" onAction="#handleViewUser" prefHeight="40" prefWidth="220"
                    style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                    text="Gestion Utilisateurs">
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 16;-fx-text-fill: white;" text="ðŸ‘¥"/>
                    </HBox>
                </graphic>
            </Button>
            <!--Projet-->
            <TitledPane collapsible="true" expanded="false" styleClass="titled-pane" text="Projet"
                        style="-fx-text-fill: #2c3e50; -fx-alignment: CENTER_LEFT; -fx-font-size: 15;"
            >
                <content>
                    <VBox spacing="8"
                          style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                    >
                        <Button fx:id="viewAjoutProjetButton" onAction="#handleAjoutProjetButton"
                                styleClass="sidebar-button" text="ðŸ“˜  Ajouter des projets"
                                style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                        />

                        <Button fx:id="viewAjoutTypeProjetButton" onAction="#handleAjoutTypeProjetButton"
                                style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                                styleClass="sidebar-button" text="ðŸ•’  Ajouter des type projets"/>
                    </VBox>
                </content>
            </TitledPane>
            <!--Cours-->
            <TitledPane collapsible="true" expanded="false" styleClass="titled-pane" text="Cours"
                        style="-fx-text-fill: #2c3e50; -fx-alignment: CENTER_LEFT; -fx-font-size: 15;"
            >
                <content>
                    <VBox spacing="8"
                          style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                    >
                        <Button fx:id="viewAjoutCoursButton" onAction="#handleAjoutCoursButton"
                                styleClass="sidebar-button" text="ðŸ“˜  Ajouter des Cours"
                                style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                        />

                        <Button fx:id="viewAjoutTypeCoursButton" onAction="#handleAjoutTypeCoursButton"
                                style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                                styleClass="sidebar-button" text="ðŸ•’  Ajouter des type Cours"/>
                    </VBox>
                </content>
            </TitledPane>
            <!--Seances-->
            <TitledPane collapsible="true" expanded="false" styleClass="titled-pane" text="SÃ©ances"
                        style="-fx-text-fill: #2c3e50; -fx-alignment: CENTER_LEFT; -fx-font-size: 15;"
            >
                <content>
                    <VBox spacing="8"
                          style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                    >
                        <Button fx:id="viewAjoutSeancesButton" onAction="#handleAjoutSeancesButton"
                                styleClass="sidebar-button" text="ðŸ“˜  Ajouter des sÃ©ances"
                                style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                        />

                        <Button fx:id="viewAjoutTypeSeanceButton" onAction="#handleAjoutTypeSeanceButton"
                                style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14;"
                                styleClass="sidebar-button" text="ðŸ•’  Ajouter des type sÃ©ances"/>
                    </VBox>
                </content>
            </TitledPane>
        </VBox>
    </VBox>

    <!-- Main Content Area -->
    <AnchorPane style="-fx-background-color: #f5f5f7; -fx-padding: 20;" AnchorPane.bottomAnchor="0.0"
                AnchorPane.leftAnchor="250.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <!-- Top User Profile Bar -->
        <HBox alignment="CENTER_RIGHT" spacing="10" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="10.0">
            <MenuButton fx:id="userProfileMenu" style="-fx-background-color: transparent; -fx-cursor: hand;">
                <graphic>
                    <HBox alignment="CENTER" spacing="10">
                        <Label fx:id="userName" style="-fx-text-fill: #2c3e50; -fx-font-weight: bold;"
                               text="Formateur Name"/>
                        <ImageView fx:id="userPhoto" fitHeight="40.0" fitWidth="40.0" preserveRatio="true">
                            <effect>
                                <DropShadow color="#00000033" radius="5"/>
                            </effect>
                        </ImageView>
                    </HBox>
                </graphic>
                <items>
                    <MenuItem fx:id="editProfileMenuItem" onAction="#handleEditProfile"
                              style="-fx-padding: 10 15 10 15;">
                        <graphic>
                            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 5;">
                                <ImageView fitHeight="20" fitWidth="20">
                                    <image>
                                        <Image url="@/photos/edit_8215526.png"/>
                                    </image>
                                </ImageView>
                                <VBox spacing="2">
                                    <Label text="Modifier Profil"
                                           style="-fx-text-fill: #2c3e50; -fx-font-size: 14; -fx-font-weight: bold;"/>
                                    <Label text="Mettre Ã  jour vos informations"
                                           style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                                </VBox>
                            </HBox>
                        </graphic>
                        <style>
                            <![CDATA[
                            .menu-item {
                                -fx-background-color: transparent;
                            }
                            .menu-item:hover {
                                -fx-background-color: #f5f5f7;
                            }
                        ]]>
                        </style>
                    </MenuItem>

                    <MenuItem fx:id="logoutMenuItem" onAction="#handleLogout" style="-fx-padding: 10 15 10 15;">
                        <graphic>
                            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 5;">
                                <ImageView fitHeight="20" fitWidth="20">
                                    <image>
                                        <Image url="@/photos/logout_icon.png"/>
                                    </image>
                                </ImageView>
                                <VBox spacing="2">
                                    <Label text="DÃ©connexion"
                                           style="-fx-text-fill: #e74c3c; -fx-font-size: 14; -fx-font-weight: bold;"/>
                                    <Label text="Se dÃ©connecter de votre compte"
                                           style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                                </VBox>
                            </HBox>
                        </graphic>
                        <style>
                            <![CDATA[
                            .menu-item {
                                -fx-background-color: transparent;
                            }
                            .menu-item:hover {
                                -fx-background-color: #f5f5f7;
                            }
                        ]]>
                        </style>
                    </MenuItem>
                </items>
            </MenuButton>
        </HBox>

        <VBox spacing="20" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0"
              AnchorPane.topAnchor="60.0">
            <!-- Rest of your existing content remains the same -->
            <Label style="-fx-font-size: 24; -fx-font-weight: bold;" text="Bienvenue sur Formateur Dashboard"/>

            <HBox spacing="20">
                <!-- Dashboard Stat Card 1 -->
                <StackPane>
                    <Rectangle arcHeight="20" arcWidth="20" fill="WHITE" height="120" width="200">
                        <effect>
                            <DropShadow color="#00000022" radius="5"/>
                        </effect>
                    </Rectangle>
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <padding>
                            <Insets left="15" right="15"/>
                        </padding>
                        <Label style="-fx-font-size: 16; -fx-text-fill: #7f8c8d;" text="Cours Total"/>
                        <Label fx:id="totalUsersLabel"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #3498db;" text="248"/>
                        <Label fx:id="userGrowthLabel" style="-fx-font-size: 12; -fx-text-fill: #27ae60;"
                               text="+12% this month"/>
                    </VBox>
                </StackPane>

                <!-- Dashboard Stat Card 2 -->
                <StackPane>
                    <Rectangle arcHeight="20" arcWidth="20" fill="WHITE" height="120" width="200">
                        <effect>
                            <DropShadow color="#00000022" radius="5"/>
                        </effect>
                    </Rectangle>
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <padding>
                            <Insets left="15" right="15"/>
                        </padding>
                        <Label style="-fx-font-size: 16; -fx-text-fill: #7f8c8d;" text="Projets"/>
                        <Label fx:id="totalCompaniesLabel"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #9b59b6;" text="42"/>
                        <Label fx:id="companyGrowthLabel" style="-fx-font-size: 12; -fx-text-fill: #27ae60;"
                               text="+5% this month"/>
                    </VBox>
                </StackPane>

                <!-- Dashboard Stat Card 3 -->
                <StackPane>
                    <Rectangle arcHeight="20" arcWidth="20" fill="WHITE" height="120" width="200">
                        <effect>
                            <DropShadow color="#00000022" radius="5"/>
                        </effect>
                    </Rectangle>
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <padding>
                            <Insets left="15" right="15"/>
                        </padding>
                        <Label style="-fx-font-size: 16; -fx-text-fill: #7f8c8d;" text="CatÃ©gories"/>
                        <Label fx:id="totalReclamationsLabel"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #e74c3c;" text="18"/>
                        <Label fx:id="reclamationStatusLabel" style="-fx-font-size: 12; -fx-text-fill: #e67e22;"
                               text="3 new today"/>
                    </VBox>
                </StackPane>
            </HBox>

            <!-- Quick Access Section -->
            <Label style="-fx-font-size: 18; -fx-font-weight: bold; -fx-padding: 10 0 0 0;" text="Quick Access"/>

            <HBox spacing="15">
                <StackPane>
                    <Rectangle arcHeight="10" arcWidth="10" fill="#2ecc71" height="100" width="155">
                        <effect>
                            <DropShadow color="#00000033" radius="5"/>
                        </effect>
                    </Rectangle>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 24; -fx-text-fill: white;" text="ðŸ“‹"/>
                        <Button fx:id="ViewProjets" onAction="#handleViewProjets"
                                style="-fx-background-color: white; -fx-text-fill: #2ecc71; -fx-font-weight: bold;"
                                text="Projets"/>
                    </VBox>
                </StackPane>
                <!-- Quick Access Card 2 -->
                <StackPane>
                    <Rectangle arcHeight="10" arcWidth="10" fill="#9b59b6" height="100" width="155">
                        <effect>
                            <DropShadow color="#00000033" radius="5"/>
                        </effect>
                    </Rectangle>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 24; -fx-text-fill: white;" text="ðŸ“‹"/>
                        <Button fx:id="ViewCours" onAction="#handleViewCours"
                                style="-fx-background-color: white; -fx-text-fill: #e74c3c; -fx-font-weight: bold;"
                                text="Cours"/>
                    </VBox>
                </StackPane>
                <!-- Quick Access Card 3 -->
                <StackPane>
                    <Rectangle arcHeight="10" arcWidth="10" fill="#e74c3c" height="100" width="155">
                        <effect>
                            <DropShadow color="#00000033" radius="5"/>
                        </effect>
                    </Rectangle>
                    <VBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-size: 24; -fx-text-fill: white;" text="ðŸ“‹"/>
                        <Button fx:id="ViewSeances" onAction="#handleViewSeances"
                                style="-fx-background-color: white; -fx-text-fill: #e74c3c; -fx-font-weight: bold;"
                                text="Seances"/>
                    </VBox>
                </StackPane>
            </HBox>
        </VBox>
    </AnchorPane>
</AnchorPane>
